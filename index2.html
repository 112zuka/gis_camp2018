<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>協働型災害訓練 ドローン地図</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.2/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.0.2/dist/leaflet.js"></script>
<script src="/lib/lf/leaflet.ajax.min.js"></script>
<link rel="stylesheet" href="/lib/lf/leaflet-gps.css" />
<script src="/lib/lf/leaflet-gps.js"></script>

<style>
  body {padding: 0; margin: 0}
  html, body, #map {height: 100%; width: 100%;}
</style>
</head>

<body>
<div id="map"></div>
<script>
var map = L.map('map',{
//	minZoom: 14,
//	maxZoom: 20 
});
var gsi = L.tileLayer('http://cyberjapandata.gsi.go.jp/xyz/std/{z}/{x}/{y}.png', {
             
  attribution: "<a href='http://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>",
	//minZoom: 14,
	maxZoom: 18
}).addTo(map);
var ort = L.tileLayer('http://cyberjapandata.gsi.go.jp/xyz/ort/{z}/{x}/{y}.jpg', {
             
  attribution: "<a href='http://maps.gsi.go.jp/development/ichiran.html' target='_blank'>地理院タイル</a>",
	//minZoom: 14,
	maxZoom: 18
});
var googleSat = L.tileLayer('http://{s}.google.com/vt/lyrs=s&x={x}&y={y}&z={z}',{
    maxZoom: 20,
    subdomains:['mt0','mt1','mt2','mt3']
});
var drone = L.tileLayer('http://sugito.code4saitama.org/tiles/sugito_20170203/{z}/{x}/{y}.png', {
	minZoom: 16,
	maxZoom: 22 
});

var drone2 = L.tileLayer('http://sugito.code4saitama.org/tiles/sugito_20170203_02/{z}/{x}/{y}.png', {
	minZoom: 16,
	maxZoom: 22 
});

var drone3 = L.tileLayer('http://sugito.code4saitama.org/tiles/sugito_20170204/{z}/{x}/{y}.png', {
	minZoom: 16,
	maxZoom: 22 
});

var drone4 = L.tileLayer('http://sugito.code4saitama.org/tiles/shiraishi/{z}/{x}/{y}.png', {
	minZoom: 16,
	maxZoom: 22 
});

var drone5 = L.tileLayer('http://sugito.code4saitama.org/tiles/sugito20180203/{z}/{x}/{y}.png', {
	minZoom: 16,
	maxZoom: 22 
}).addTo(map);

// Define a style
var myStyle = {
        "color": "#ff7800",
        "weight": 5,
        "opacity": 0.65
    };

// Add the style to your layer    
var geojson = new L.GeoJSON.AJAX("road_accident_geojson.php",{
         style:myStyle}).addTo(map);


var baseMaps = {
    "地理院地図": gsi,
    "地理院オルソ": ort,
    "Google Sat": googleSat,
};

var overlayMaps = {
    "ドローン(被災前想定) ": drone,
    "ドローン(被災後想定)": drone2,
    "ドローン(デモ用)": drone3,
    "ドローン(白石)": drone4,
    "ドローン(2018-02-03)": drone5,
    "道路被災": geojson
};

L.control.layers(baseMaps, overlayMaps).addTo(map);
//map.addControl( new L.Control.Gps({autoActive:true}) );
map.setView([36.0229603,139.7422343], 16);
</script>
</body>
</html>
